!function(e,t){if("object"===typeof exports&&"object"===typeof module)module.exports=t(require("react"));else if("function"===typeof define&&define.amd)define(["react"],t);else{var r="object"===typeof exports?t(require("react")):t(e.react);for(var n in r)("object"===typeof exports?exports:e)[n]=r[n]}}(this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=2)}([function(t,r){t.exports=e},function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var s=o.apply(null,n);s&&e.push(s)}else if("object"===i)for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){e.exports=r(3)},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){o=!0,i=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return(u="function"===typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)})(e)}function f(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}r.r(t);var y=r(0),m=r.n(y);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var g,S,O,b,I,z=function(){function e(){s(this,e),this.slots=[]}return l(e,[{key:"size",value:function(){return this.slots.length}},{key:"getSlot",value:function(e){return this.slots[e]}},{key:"insertSlot",value:function(e,t){var r=this.slots[e];this.slots[e]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{},t)}},{key:"getTotalSlotSize",value:function(){return this.getAggregateSlotSizeToIndex(this.size())}},{key:"getAggregateSlotSizeToIndex",value:function(e){return e<1||0===this.size()?0:this.slots.slice(0,e).reduce((function(e,t){return e+(t.header||0)+(t.footer||0)}),0)}},{key:"getRestSlotSizeToIndex",value:function(e,t){var r=this.size();if(e===r||e<0)return 0;var n=this.slots.slice(e,r).reduce((function(e,t){return e+(t.header||0)+(t.footer||0)}),0),o=this.slots[e];return o&&t>=o.start?n-o.header:n}},{key:"findSlotIndexByItemIndex",value:function(e){var t=this.size();return 0===t||e<0||e>=this.slots[t-1].end?-1:this.slots.findIndex((function(t){return e>=t.start&&e<t.end}))}}]),e}();function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var x="auto",T="start",w="center",C="end",j={HORIZONTAL:"horizontal",VERTICAL:"vertical"},E={OBSERVED:"observed",REQUESTED:"requested"},A=(n(g={},j.VERTICAL,"scrollTop"),n(g,j.HORIZONTAL,"scrollLeft"),g),D=(n(S={},j.VERTICAL,"height"),n(S,j.HORIZONTAL,"width"),S),R=(n(O={},j.VERTICAL,"top"),n(O,j.HORIZONTAL,"left"),O),M=(n(b={},j.VERTICAL,"marginTop"),n(b,j.HORIZONTAL,"marginLeft"),b),k=(n(I={},j.VERTICAL,"marginBottom"),n(I,j.HORIZONTAL,"marginRight"),I),_={HEADER:Symbol("VirtualList#Header"),FOOTER:Symbol("VirtualList#Footer"),SECTION:Symbol("VirtualList#Section")},N={overflow:"auto",willChange:"transform",WebkitOverflowScrolling:"touch"},L={position:"relative",width:"100%",minHeight:"100%"},V={position:"absolute",top:0,left:0,width:"100%"},F=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},V,{position:"sticky"}),H=function(){function e(t){var r=t.itemCount,n=t.itemSizeGetter,o=t.estimatedItemSize;s(this,e),this.itemSizeGetter=n,this.itemCount=r,this.estimatedItemSize=o,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.slotManager=new z}return l(e,[{key:"getTotalItemCount",value:function(){return this.itemCount}},{key:"setTotalItemCount",value:function(e){this.itemCount=e}},{key:"updateConfig",value:function(e){var t=e.itemCount,r=e.itemSizeGetter,n=e.estimatedItemSize;null!=t&&(this.itemCount=t),null!=r&&(this.itemSizeGetter=r),null!=n&&(this.estimatedItemSize=n)}},{key:"getLastMeasuredIndex",value:function(){return this.lastMeasuredIndex}},{key:"getSizeAndPositionForIndex",value:function(e){if(e<0||e>=this.itemCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this.itemCount));if(e>this.lastMeasuredIndex){for(var t=this.getSizeAndPositionOfLastMeasuredItem(),r=this.slotManager.findSlotIndexByItemIndex(e),n=t.offset+t.size,o=this.lastMeasuredIndex+1;o<=e;o++){var i=this.itemSizeGetter(o);if(null==i||isNaN(i))throw Error("Invalid size returned for index ".concat(o," of value ").concat(i));if(r>=0){var s=this.slotManager.getSlot(r),a=this.slotManager.getSlot(r-1);o===s.start&&(n+=s.header,a&&o===a.end&&(n+=a.footer))}this.itemSizeAndPositionData[o]={offset:n,size:i},n+=i}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredItem",value:function(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredItem(),t=e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize;if(this.slotManager.size()>0){var r=this.slotManager.findSlotIndexByItemIndex(this.lastMeasuredIndex);return t+this.slotManager.getRestSlotSizeToIndex(r,this.lastMeasuredIndex)}return t}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,r=void 0===t?T:t,n=e.containerSize,o=e.currentOffset,i=e.targetIndex;if(n<=0)return 0;var s,a=this.getSizeAndPositionForIndex(i),l=a.offset,c=l-n+a.size;switch(r){case C:s=c;break;case w:s=l-(n-a.size)/2;break;case T:s=l;break;default:s=Math.max(c,Math.min(l,o))}var u=this.getTotalSize();return Math.max(0,Math.min(u-n,s))}},{key:"getVisibleRange",value:function(e){var t=e.containerSize,r=e.offset,n=e.overscanCount;if(0===this.getTotalSize())return{};var o=r+t,i=this.findNearestItem(r);if("undefined"===typeof i)throw Error("Invalid offset ".concat(r," specified"));var s=this.getSizeAndPositionForIndex(i);r=s.offset+s.size;for(var a=i;r<o&&a<this.itemCount-1;)a++,r+=this.getSizeAndPositionForIndex(a).size;return n&&(i=Math.max(0,i-n),a=Math.min(a+n,this.itemCount-1)),{start:i,stop:a}}},{key:"resetItem",value:function(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}},{key:"findNearestItem",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredItem(),r=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:r,low:0,offset:e}):this.exponentialSearch({index:r,offset:e})}},{key:"binarySearch",value:function(e){for(var t=e.low,r=e.high,n=e.offset,o=0,i=0;t<=r;){if(o=t+Math.floor((r-t)/2),(i=this.getSizeAndPositionForIndex(o).offset)===n)return o;i<n?t=o+1:i>n&&(r=o-1)}return t>0?t-1:0}},{key:"exponentialSearch",value:function(e){for(var t=e.index,r=e.offset,n=1;t<this.itemCount&&this.getSizeAndPositionForIndex(t).offset<r;)t+=n,n*=2;return this.binarySearch({low:Math.floor(t/2),high:Math.min(t,this.itemCount-1),offset:r})}}]),e}(),G=r(1),U=r.n(G);function W(e,t,r){var n,o;return t||(t=250),function(){var i=r||this,s=+new Date,a=arguments;n&&s<n+t?(clearTimeout(o),o=setTimeout((function(){n=s,e.apply(i,a)}),t)):(n=s,e.apply(i,a))}}var B=function(e){return"number"===typeof e};function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var q=function(e){function t(){var e;return s(this,t),(e=f(this,p(t).apply(this,arguments))).wrapperRef=m.a.createRef(null),e}return d(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.style,n=i(e,["children","style"]);return console.log("Header",n),m.a.createElement("div",{ref:this.wrapperRef,style:r,className:U()("x-virtual-list--header",n.className)},t)}}]),t}(m.a.PureComponent);q.isVirtual=function(e){return e.type._VID===_.HEADER},q.getAttachStyle=function(e){var t=e.index,r=e.scrollDirection,o=e.props,i=e.sizeAndPositionManager,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},V),a=D[r],l=R[r],c=o[a],u=i.getSizeAndPositionForIndex(t).offset;return s.width="100%",s.height="100%",s[a]=c+"px",s[l]=u-c+"px",s},q._VID=_.HEADER;var Q=q;function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Y=function(e){function t(){var e;return s(this,t),(e=f(this,p(t).apply(this,arguments))).wrapperRef=m.a.createRef(null),e}return d(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.style,n=i(e,["children","style"]);return m.a.createElement("div",{ref:this.wrapperRef,style:r,className:U()("x-virtual-list--footer",n.className)},t)}}]),t}(m.a.PureComponent);Y.isVirtual=function(e){return e.type._VID===_.FOOTER},Y.getAttachStyle=function(e){var t=e.index,r=e.scrollDirection,o=e.props,i=e.sizeAndPositionManager,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},V),a=D[r],l=R[r],c=o[a],u=i.getSizeAndPositionForIndex(t),f=u.offset,p=u.size;return s.width="100%",s.height="100%",s[a]=c+"px",s[l]=f+p+"px",s},Y._VID=_.FOOTER;var J=Y;var K=function(e,t){for(var r=Object.assign({},e),n=0;n<t.length;n+=1){delete r[t[n]]}return r};function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ee=function(e){function t(){var e;return s(this,t),(e=f(this,p(t).apply(this,arguments))).wrapperRef=m.a.createRef(null),e}return d(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=i(e,["children"]);return m.a.createElement("div",{ref:this.wrapperRef,className:U()("x-virtual-list--section",r.className)},t)}}]),t}(m.a.PureComponent);ee.isVirtual=function(e){return e.type._VID===_.SECTION},ee.walkSectionChildren=function(e,t){for(var r=[],n=m.a.Children.count(e),o=m.a.Children.toArray(e),i=0,s=0,a=0;s<n;s+=i){i=1;var l=o[s],c=o[s+1],u=o[s+2];if(ee.isVirtual(l))!function(){var e=l,t=e.props.itemCount,n={itemCount:t,start:a,end:a+t};m.a.Children.forEach(e.props.children,(function(e){Q.isVirtual(e)?n.Header=e:J.isVirtual(e)?n.Footer=e:n.Cell=e})),r.push(n),a+=t}();else{var f={itemCount:t,start:a,end:t,Cell:l};Q.isVirtual(l)&&(f.Header=l,c&&(f.Cell=c,i=2),u&&J.isVirtual(u)&&(f.Footer=u,i=3)),r.push(f),a+=t}}return r},ee.setSectionSlotToManager=function(e){var t=e.sections,r=e.scrollDirection,o=e.sizeAndPositionManager,i=D[r];t.forEach((function(e,t){o.slotManager.insertSlot(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},K(e,["Header","Cell","Footer"]),{header:e.Header?e.Header.props[i]:0,footer:e.Footer?e.Footer.props[i]:0}))}))},ee.findSectionByRangeIndex=function(e,t){var r=-1;return[e.find((function(e,n){return e.start<=t&&e.end>t?(r=n,e):null})),r]},ee.getSectionItemIndex=function(e){var t=e.sections,r=e.sectionIndex,n=e.index;return 0===r?n:n-t.slice(0,r).reduce((function(e,t){return e+t.itemCount}),0)},ee.getTotalSectionItemCount=function(e){return e.reduce((function(e,t){return e+t.itemCount}),0)},ee._VID=_.SECTION;var te=ee;function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe=function(e){function t(){var e;s(this,t),(e=f(this,p(t).apply(this,arguments)))._scrollWatchTimer=null,e._handleScroll=function(t){clearTimeout(e._scrollWatchTimer);var r=e._getNodeOffset(),n=e.sizeAndPositionManager.getTotalSize(),o=e.props[D[e.scrollDirection]];if(!(r<0||e.state.offset===r||t.target!==e.rootNodeRef.current)){e.setState({offset:r,scrollChangeReason:E.OBSERVED}),e._scrollWatchTimer||e.props.onStartScroll(t,r);e._scrollWatchTimer=setTimeout((function(){e.props.onEndScroll(t,r),e._scrollWatchTimer=null}),e.props.scrollEventThrottle+300),n-r-o<=e.props.lowerThreshold&&e.props.onScrollToLower(t,r),r<=e.props.upperThreshold&&e.props.onScrollToUpper(t,r),e.throttleScroll(t,r)}},e._getItems=function(){var t=e.props,r=t.overscanCount,n=t.initialRows,s=t.itemCount,a=(t.children,i(t,["overscanCount","initialRows","itemCount","children"])),l=e.state.offset,c=e.sections,u=te.getTotalSectionItemCount(c);s!==u&&e.sizeAndPositionManager.updateConfig({itemCount:u});var f=a[D[e.scrollDirection]],p=e.sizeAndPositionManager.getVisibleRange({containerSize:f,offset:l,overscanCount:r||n}),h=p.start,d=p.stop,y=[];if("undefined"!==typeof h&&"undefined"!==typeof d)for(var v=h;v<=d;v++){var g=o(te.findSectionByRangeIndex(c,v),2),S=g[0],O=g[1],b=S.Header,I=S.Cell,z=S.Footer,P=S.start,x=S.end;if(v===P&&b&&y.push(m.a.createElement(b.type,ne({},b.props,{key:"virtual-section-header-".concat(O),style:Q.getAttachStyle({props:b.props,index:v,scrollDirection:e.scrollDirection,sizeAndPositionManager:e.sizeAndPositionManager})}))),I){var T=te.getSectionItemIndex({sections:c,sectionIndex:O,index:v}),w=v,C=e._getStyle({index:v,sticky:!1,isCached:!0}),j=m.a.createElement(I.type,ne({},I.props,{key:w,virtualIndex:w,index:T,style:C})),E=j.props.onNodeAppear;if("function"===typeof E){var A=C[R[e.scrollDirection]];A+C[D[e.scrollDirection]]>l&&A<l+f&&E({itemIndex:T,virtualIndex:w,itemStyle:C})}y.push(j)}v===x-1&&z&&y.push(m.a.createElement(z.type,ne({},z.props,{key:"virtual-section-footer-".concat(O),style:J.getAttachStyle({props:z.props,index:v,scrollDirection:e.scrollDirection,sizeAndPositionManager:e.sizeAndPositionManager})})))}return y};var r=e.props,n=r.scrollX,a=r.scrollY,l=r.initialScrollIndex,c=r.scrollTo,u=r.onScroll,h=r.scrollEventThrottle,d=r.itemCount;e.scrollDirection=a?j.VERTICAL:n?j.HORIZONTAL:j.VERTICAL;var y=te.walkSectionChildren(m.a.Children.toArray(e.props.children),d),v=te.getTotalSectionItemCount(y);return e.itemSizeGetter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.itemSize;return function(r){return e._getSize(r,t)}},e.sizeAndPositionManager=new H({itemCount:v,itemSizeGetter:e.itemSizeGetter(e.props.itemSize),estimatedItemSize:e._getEstimatedItemSize()}),te.setSectionSlotToManager({sections:y,sizeAndPositionManager:e.sizeAndPositionManager,scrollDirection:e.scrollDirection}),e.sections=y,e.state={offset:B(c)?c:e.getOffsetForIndex(l),scrollChangeReason:E.REQUESTED},e.styleCache={},e.rootNodeRef=m.a.createRef(null),e.scrollWrapperNodeRef=m.a.createRef(null),e.throttleScroll=W(u,h),e}return d(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.scrollTo;B(e)?this._scrollTo(e):this._scrollTo(this.state.offset),this.rootNodeRef.current.addEventListener("scroll",this._handleScroll,{passive:!0})}},{key:"componentWillUnmount",value:function(){this.rootNodeRef.current.removeEventListener("scroll",this._handleScroll)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,r=t.itemCount,n=t.itemSize,o=t.estimatedItemSize,i=t.scrollToAlignment,s=t.scrollTo,a=t.onScroll,l=t.scrollEventThrottle,c=e.scrollTo!==s||e.scrollToAlignment!==i,u=e.itemCount!==r||e.itemSize!==n||e.estimatedItemSize!==o;e.scrollEventThrottle!==l&&(this.throttleScroll=W(a,e.scrollEventThrottle)),e.itemSize!==n&&this.sizeAndPositionManager.updateConfig({itemSizeGetter:this.itemSizeGetter(e.itemSize)}),e.itemCount===r&&e.estimatedItemSize===o||this.sizeAndPositionManager.updateConfig({itemCount:e.itemCount,estimatedItemSize:this._getEstimatedItemSize(e)}),u&&this.recomputeSizes(),"number"===typeof e.scrollTo&&(c||u)&&this.setState({offset:e.scrollTo,scrollChangeReason:E.REQUESTED})}},{key:"componentDidUpdate",value:function(e,t){var r=this.state,n=r.offset,o=r.scrollChangeReason;t.offset!==n&&o===E.REQUESTED&&this._scrollTo(n)}},{key:"scrollToPosition",value:function(e){var t=this,r=e.position,o=e.smooth,i=void 0!==o&&o,s=e.alignTo,a=this.sizeAndPositionManager.getTotalSize(),l=this.getOffsetForIndex(r,{none:w,top:T,bottom:C}[s]),c=R[this.scrollDirection],u=this.rootNodeRef.current;if(u)if("function"===typeof u.scroll){var f=function(){var e;t.rootNodeRef.current.scroll((n(e={},c,l),n(e,"behavior",i?"smooth":"auto"),e))};l>a?this._flushTotalSize(l,f):f()}else if(i){!function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"scrollTop",o=e[n],i=t-o,s=0;!function t(){var a,l,c,u=(a=s+=20,l=o,c=i,(a/=r/2)<1?c/2*a*a+l:-c/2*(--a*(a-2)-1)+l);e[n]=u,s<r&&setTimeout(t,20)}()}(u,l,300,A[this.scrollDirection])}else this._scrollTo(l)}},{key:"_scrollTo",value:function(e){this.rootNodeRef.current[A[this.scrollDirection]]=e}},{key:"_flushTotalSize",value:function(e,t){var r=this,n=this.state.offset;this._scrollTo(e),setTimeout((function(){r._scrollTo(n),t()}),0)}},{key:"_getTotalItemCount",value:function(){var e=this.sections||te.walkSectionChildren(m.a.Children.toArray(this.props.children),this.props.itemCount);return te.getTotalSectionItemCount(e)}},{key:"getOffsetForIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,r=this.sizeAndPositionManager.getTotalItemCount();return 0===r&&(r=this._getTotalItemCount()),e<0&&(e=0),e>=r&&(e=r-1),this.sizeAndPositionManager.getUpdatedOffsetForIndex({align:t,containerSize:this.props[D[this.scrollDirection]],currentOffset:this.state&&this.state.offset||0,targetIndex:e})}},{key:"recomputeSizes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.styleCache={},this.sizeAndPositionManager.resetItem(e)}},{key:"_getNodeOffset",value:function(){return this.rootNodeRef.current[A[this.scrollDirection]]}},{key:"_getEstimatedItemSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=50;return e.estimatedItemSize||"number"===typeof e.itemSize&&e.itemSize||t}},{key:"_getSize",value:function(e,t){if("function"===typeof t)return t(e);return Array.isArray(t)?t[e]:t||50}},{key:"_getStyle",value:function(e){var t=e.index,r=e.sticky,o=e.isCached,i=this.styleCache[t],s=D[this.scrollDirection],a=R[this.scrollDirection];if(i&&o)return i;var l,c,u=this.sizeAndPositionManager.getSizeAndPositionForIndex(t),f=u.size,p=u.offset;r?this.styleCache[t]=ne({},F,(n(l={},s,f),n(l,M[this.scrollDirection],p),n(l,k[this.scrollDirection],-(p+f)),n(l,"zIndex",1),l)):this.styleCache[t]=ne({},V,(n(c={},s,f),n(c,a,p),c));return this.styleCache[t]}},{key:"render",value:function(){var e=this.props,t=e.style,r=e.width,o=e.height,i=this._getItems(),s=this.sizeAndPositionManager.getTotalSize(),a=ne({},N,{},t,{width:r,height:o}),l=ne({},L,n({},D[this.scrollDirection],s));return this.scrollDirection===j.HORIZONTAL&&(l.display="flex"),m.a.createElement("div",{ref:this.rootNodeRef,className:U()("taro-virtual-list",this.props.className),style:a},m.a.createElement("div",{ref:this.scrollWrapperNodeRef,style:l},i))}}]),t}(m.a.PureComponent);oe.defaultProps={itemCount:0,initialRows:5,upperThreshold:50,lowerThreshold:50,scrollEventThrottle:10,initialScrollIndex:0,onScroll:function(){},onStartScroll:function(){},onEndScroll:function(){},onScrollToUpper:function(){},onScrollToLower:function(){}},oe.Section=te,oe.Header=Q,oe.Footer=J;var ie=oe;r.d(t,"VirtualList",(function(){return ie})),r.d(t,"Section",(function(){return te})),r.d(t,"Header",(function(){return Q})),r.d(t,"Footer",(function(){return J}));t.default=ie}])}));
//# sourceMappingURL=index.js.map