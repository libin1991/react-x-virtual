{"version":3,"sources":["../webpack/universalModuleDefinition","../webpack/bootstrap","../external \"react\"","../node_modules/classnames/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","lib/SlotManager.js","lib/constants.js","lib/SizeAndPositionManager.js","lib/util.js","lib/Header.js","lib/Footer.js","../node_modules/omit.js/es/index.js","lib/Section.js","lib/VirtualList.js","lib/index.js"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","hasOwn","classNames","classes","arguments","length","arg","argType","push","Array","isArray","inner","apply","join","default","_defineProperty","obj","configurable","writable","_slicedToArray","arr","iterator","toString","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","TypeError","_objectWithoutProperties","source","excluded","target","sourceKeys","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_typeof2","constructor","_typeof","_possibleConstructorReturn","self","ReferenceError","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","_inherits","subClass","superClass","SlotManager","slots","index","curSlot","prevSlot","getAggregateSlotSizeToIndex","size","slice","reduce","agg","slot","header","footer","slotIndex","itemIndex","aggregateSize","start","end","findIndex","ALIGNMENT","DIRECTION","HORIZONTAL","VERTICAL","SCROLL_CHANGE_REASON","OBSERVED","REQUESTED","scrollProp","sizeProp","positionProp","marginProp","oppositeMarginProp","VWIDGET_ID","HEADER","FOOTER","SECTION","STYLE_WRAPPER","overflow","willChange","WebkitOverflowScrolling","STYLE_INNER","position","width","minHeight","STYLE_ITEM","top","left","STYLE_STICKY_ITEM","SizeAndPositionManager","itemCount","itemSizeGetter","estimatedItemSize","itemSizeAndPositionData","lastMeasuredIndex","slotManager","totalItemCount","Error","lastMeasuredSizeAndPosition","getSizeAndPositionOfLastMeasuredItem","findSlotIndexByItemIndex","offset","isNaN","currentSlot","getSlot","totalItemSize","getRestSlotSizeToIndex","align","containerSize","currentOffset","targetIndex","idealOffset","datum","getSizeAndPositionForIndex","maxOffset","minOffset","Math","max","min","totalSize","getTotalSize","overscanCount","findNearestItem","stop","binarySearch","high","low","exponentialSearch","middle","floor","interval","throttle","fn","threshhold","scope","last","deferTimer","context","now","Date","args","clearTimeout","setTimeout","isNumber","Header","wrapperRef","React","createRef","children","style","console","log","ref","className","PureComponent","isVirtual","child","type","_VID","getAttachStyle","scrollDirection","sizeAndPositionManager","sizePropName","positionPropName","height","Footer","footerSize","fields","shallowCopy","assign","Section","walkSectionChildren","finalChildren","childrenSize","Children","count","rawChildren","toArray","jumpStep","cursor","currentChild","nextChild","nnextChild","sectionWrapper","sectionItemCount","section","forEach","Cell","setSectionSlotToManager","sections","sec","insertSlot","omit","findSectionByRangeIndex","find","getSectionItemIndex","sectionIndex","getTotalSectionItemCount","VirtualList","_scrollWatchTimer","_handleScroll","event","_getNodeOffset","state","rootNodeRef","current","setState","scrollChangeReason","onStartScroll","onEndScroll","scrollEventThrottle","lowerThreshold","onScrollToLower","upperThreshold","onScrollToUpper","throttleScroll","_getItems","initialRows","updateConfig","getVisibleRange","items","VirtualHeader","VirtualCell","VirtualFooter","sectionStart","sectionEnd","createElement","virtualIndex","itemStyle","_getStyle","sticky","isCached","CellComponent","onNodeAppearHandler","onNodeAppear","itemPos","scrollX","scrollY","initialScrollIndex","scrollTo","onScroll","itemSize","_getSize","_getEstimatedItemSize","getOffsetForIndex","styleCache","scrollWrapperNodeRef","_scrollTo","addEventListener","passive","removeEventListener","nextProps","scrollToAlignment","scrollPropsHaveChanged","itemPropsHaveChanged","recomputeSizes","_","prevState","smooth","alignTo","prevTotalSize","none","bottom","element","scroll","DOMScroll","_flushTotalSize","to","duration","direction","change","currentTime","animateScroll","b","val","callback","prevOffset","getTotalItemCount","_getTotalItemCount","getUpdatedOffsetForIndex","startIndex","resetItem","defaultEstimatedItemSize","wrapperStyle","innerStyle","display","defaultProps"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\")) : factory(root[\"react\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","/**\n * SlotManager - 插槽管理器\n *\n * 用以处理 Section 中引入的 Header & Footer 带来的偏移计算\n */\n\nexport default class SlotManager {\n  constructor () {\n    this.slots = []\n  }\n\n  size () {\n    return this.slots.length\n  }\n\n  getSlot (index) {\n    return this.slots[index]\n  }\n\n  /**\n   * 新增/更新插槽对象\n   *\n   * @param {*} index 新增/更新的插槽索引\n   * @param {*} curSlot 插槽对象\n   */\n  insertSlot (index, curSlot) {\n    const prevSlot = this.slots[index]\n\n    this.slots[index] = {\n      ...prevSlot, ...curSlot\n    }\n  }\n\n  /**\n   * 获取全部插槽累加尺寸\n   */\n  getTotalSlotSize () {\n    return this.getAggregateSlotSizeToIndex(this.size())\n  }\n\n  /**\n   * 返回到对应索引的所有插槽的累加尺寸\n   *\n   * @param {*} index 插槽索引\n   */\n  getAggregateSlotSizeToIndex (index) {\n    if (index < 1 || this.size() === 0) {\n      return 0\n    }\n\n    return this.slots.slice(0, index).reduce((agg, slot) => {\n      return agg + (slot.header || 0) + (slot.footer || 0)\n    }, 0)\n  }\n\n  /**\n   * 返回从对应索引开始之后的所有插槽的累加尺寸\n   *\n   * @param {*} slotIndex 插槽索引\n   * @param {*} itemIndex 元素索引\n   */\n  getRestSlotSizeToIndex (slotIndex, itemIndex) {\n    const size = this.size()\n\n    if (slotIndex === size || slotIndex < 0) {\n      return 0\n    }\n\n    const aggregateSize = this.slots.slice(slotIndex, size).reduce((agg, slot) => {\n      return agg + (slot.header || 0) + (slot.footer || 0)\n    }, 0)\n\n    const slot = this.slots[slotIndex]\n    if (slot && itemIndex >= slot.start) {\n      return aggregateSize - slot.header\n    }\n\n    return aggregateSize\n  }\n\n  /**\n   * 返回根据元素索引寻找命中的插槽的所有\n   *\n   * @param {*} itemIndex 元素索引\n   */\n  findSlotIndexByItemIndex (itemIndex) {\n    const size = this.size()\n\n    if (size === 0 || itemIndex < 0 || itemIndex >= this.slots[size - 1].end) {\n      return -1\n    }\n    return this.slots.findIndex(slot => {\n      return itemIndex >= slot.start && itemIndex < slot.end\n    })\n  }\n}\n","export const ALIGNMENT = {\n  AUTO: 'auto',\n  START: 'start',\n  CENTER: 'center',\n  END: 'end'\n}\n\nexport const DIRECTION = {\n  HORIZONTAL: 'horizontal',\n  VERTICAL: 'vertical'\n}\n\nexport const SCROLL_CHANGE_REASON = {\n  OBSERVED: 'observed',\n  REQUESTED: 'requested'\n}\n\nexport const scrollProp = {\n  [DIRECTION.VERTICAL]: 'scrollTop',\n  [DIRECTION.HORIZONTAL]: 'scrollLeft'\n}\n\nexport const sizeProp = {\n  [DIRECTION.VERTICAL]: 'height',\n  [DIRECTION.HORIZONTAL]: 'width'\n}\n\nexport const positionProp = {\n  [DIRECTION.VERTICAL]: 'top',\n  [DIRECTION.HORIZONTAL]: 'left'\n}\n\nexport const marginProp = {\n  [DIRECTION.VERTICAL]: 'marginTop',\n  [DIRECTION.HORIZONTAL]: 'marginLeft'\n}\n\nexport const oppositeMarginProp = {\n  [DIRECTION.VERTICAL]: 'marginBottom',\n  [DIRECTION.HORIZONTAL]: 'marginRight'\n}\n\nexport const VWIDGET_ID = {\n  HEADER: Symbol('VirtualList#Header'),\n  FOOTER: Symbol('VirtualList#Footer'),\n  SECTION: Symbol('VirtualList#Section')\n}\n\nexport const STYLE_WRAPPER = {\n  overflow: 'auto',\n  willChange: 'transform',\n  WebkitOverflowScrolling: 'touch'\n}\n\nexport const STYLE_INNER = {\n  position: 'relative',\n  width: '100%',\n  minHeight: '100%'\n}\n\nexport const STYLE_ITEM = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  width: '100%'\n}\n\nexport const STYLE_STICKY_ITEM = {\n  ...STYLE_ITEM,\n  position: 'sticky'\n}\n","/**\n * SizeAndPositionManager - 尺寸位置管理器\n *\n * 用以管理所有子项元素的尺寸、位置信息计算，解耦与视图之间的逻辑关联\n */\nimport SlotManager from './SlotManager'\nimport { ALIGNMENT } from './constants'\n\nexport default class SizeAndPositionManager {\n  constructor ({ itemCount, itemSizeGetter, estimatedItemSize }) {\n    this.itemSizeGetter = itemSizeGetter\n    this.itemCount = itemCount\n    this.estimatedItemSize = estimatedItemSize\n\n    // 建立以元素索引的哈希表，用以缓存列表子元素的尺寸和位置信息\n    this.itemSizeAndPositionData = {}\n\n    // 记录已经测算尺寸的最近索引\n    // 在此索引之前的元素的测算信息可以信赖，在此索引之后的元素尺寸信息为预估信息\n    this.lastMeasuredIndex = -1\n\n    // 处理插槽（e.g. Header & Footer）信息的管理者对象\n    this.slotManager = new SlotManager()\n  }\n\n  getTotalItemCount () {\n    return this.itemCount\n  }\n\n  setTotalItemCount (totalItemCount) {\n    this.itemCount = totalItemCount\n  }\n\n  updateConfig ({ itemCount, itemSizeGetter, estimatedItemSize }) {\n    if (itemCount != null) {\n      this.itemCount = itemCount\n    }\n    if (itemSizeGetter != null) {\n      this.itemSizeGetter = itemSizeGetter\n    }\n    if (estimatedItemSize != null) {\n      this.estimatedItemSize = estimatedItemSize\n    }\n  }\n\n  getLastMeasuredIndex () {\n    return this.lastMeasuredIndex\n  }\n\n  /**\n   * 在运行时中从缓存的已计算索引位置开始遍历计算，直到匹配对应的索引\n   * 返回计算得出的对应元素尺寸、偏移位置\n   */\n  getSizeAndPositionForIndex (index) {\n    if (index < 0 || index >= this.itemCount) {\n      throw Error(\n        `Requested index ${index} is outside of range 0..${this.itemCount}`\n      )\n    }\n\n    if (index > this.lastMeasuredIndex) {\n      const lastMeasuredSizeAndPosition = this.getSizeAndPositionOfLastMeasuredItem()\n      const slotIndex = this.slotManager.findSlotIndexByItemIndex(index)\n\n      let offset = lastMeasuredSizeAndPosition.offset + lastMeasuredSizeAndPosition.size\n\n      for (let i = this.lastMeasuredIndex + 1; i <= index; i++) {\n        const size = this.itemSizeGetter(i)\n\n        if (size == null || isNaN(size)) {\n          throw Error(`Invalid size returned for index ${i} of value ${size}`)\n        }\n\n        if (slotIndex >= 0) {\n          const currentSlot = this.slotManager.getSlot(slotIndex)\n          const prevSlot = this.slotManager.getSlot(slotIndex - 1)\n\n          if (i === currentSlot.start) {\n            offset += currentSlot.header\n            if (prevSlot && i === prevSlot.end) {\n              offset += prevSlot.footer\n            }\n          }\n        }\n\n        this.itemSizeAndPositionData[i] = { offset, size }\n        offset += size\n      }\n\n      this.lastMeasuredIndex = index\n    }\n\n    return this.itemSizeAndPositionData[index]\n  }\n\n  getSizeAndPositionOfLastMeasuredItem () {\n    if (this.lastMeasuredIndex >= 0) {\n      return this.itemSizeAndPositionData[this.lastMeasuredIndex]\n    } else {\n      return { offset: 0, size: 0 }\n    }\n  }\n\n  /**\n   * 计算得出所有元素的叠加尺寸\n   * 注意此方法在初始时得到的尺寸信息完全为预估（依赖 itemSize 以及 estimatedItemSize），之后逐渐动态更新替换预估值\n   */\n  getTotalSize () {\n    const lastMeasuredSizeAndPosition = this.getSizeAndPositionOfLastMeasuredItem()\n    const totalItemSize =\n      lastMeasuredSizeAndPosition.offset +\n      lastMeasuredSizeAndPosition.size +\n      (this.itemCount - this.lastMeasuredIndex - 1) * this.estimatedItemSize\n\n    if (this.slotManager.size() > 0) {\n      const slotIndex = this.slotManager.findSlotIndexByItemIndex(this.lastMeasuredIndex)\n      const restSlotSize = this.slotManager.getRestSlotSizeToIndex(slotIndex, this.lastMeasuredIndex)\n\n      return totalItemSize + restSlotSize\n    } else {\n      return totalItemSize\n    }\n  }\n\n  /**\n   * 返回对应索引的元素出现在容器视窗内，同时对齐配置的元素偏移位置\n   *\n   * @param align 偏移对齐参数\n   * @param containerSize 容器视窗尺寸\n   * @return 元素出现在视窗内的偏移位置\n   */\n  getUpdatedOffsetForIndex ({ align = ALIGNMENT.START, containerSize, currentOffset, targetIndex }) {\n    if (containerSize <= 0) {\n      return 0\n    }\n\n    const datum = this.getSizeAndPositionForIndex(targetIndex)\n    const maxOffset = datum.offset\n    const minOffset = maxOffset - containerSize + datum.size\n\n    let idealOffset\n\n    switch (align) {\n      case ALIGNMENT.END:\n        idealOffset = minOffset\n        break\n      case ALIGNMENT.CENTER:\n        idealOffset = maxOffset - (containerSize - datum.size) / 2\n        break\n      case ALIGNMENT.START:\n        idealOffset = maxOffset\n        break\n      default:\n        idealOffset = Math.max(minOffset, Math.min(maxOffset, currentOffset))\n    }\n\n    const totalSize = this.getTotalSize()\n\n    return Math.max(0, Math.min(totalSize - containerSize, idealOffset))\n  }\n\n  getVisibleRange ({ containerSize, offset, overscanCount }) {\n    const totalSize = this.getTotalSize()\n\n    if (totalSize === 0) {\n      return {}\n    }\n\n    const maxOffset = offset + containerSize\n    let start = this.findNearestItem(offset)\n\n    if (typeof start === 'undefined') {\n      throw Error(`Invalid offset ${offset} specified`)\n    }\n\n    const datum = this.getSizeAndPositionForIndex(start)\n    offset = datum.offset + datum.size\n\n    let stop = start\n\n    while (offset < maxOffset && stop < this.itemCount - 1) {\n      stop++\n      offset += this.getSizeAndPositionForIndex(stop).size\n    }\n\n    if (overscanCount) {\n      start = Math.max(0, start - overscanCount)\n      stop = Math.min(stop + overscanCount, this.itemCount - 1)\n    }\n\n    return { start, stop }\n  }\n\n  /**\n   * 清除该索引以后的所有缓存值\n   * 实际上此方法只修改索引，只有在下次触发 getSizeAndPositionForIndex 方法时才会实际更新计算\n   */\n  resetItem (index) {\n    this.lastMeasuredIndex = Math.min(this.lastMeasuredIndex, index - 1)\n  }\n\n  /**\n   * 返回最匹配此偏移位置的子元素索引\n   * 如果没有准确的匹配，则返回最接近偏移位置的元素索引\n   */\n  findNearestItem (offset) {\n    if (isNaN(offset)) {\n      throw Error(`Invalid offset ${offset} specified`)\n    }\n\n    // 算法会搜索最近的匹配，或者小于（最接近）指定的偏移位置\n    // 因此偏移至少都应该是 0，否则无法匹配\n    offset = Math.max(0, offset)\n\n    const lastMeasuredSizeAndPosition = this.getSizeAndPositionOfLastMeasuredItem()\n    const lastMeasuredIndex = Math.max(0, this.lastMeasuredIndex)\n\n    if (lastMeasuredSizeAndPosition.offset >= offset) {\n      // 在已经缓存计算过的区域，使用二分搜索\n      return this.binarySearch({\n        high: lastMeasuredIndex,\n        low: 0,\n        offset\n      })\n    } else {\n      // 如果是尚未缓存计算过的区域，使用指数搜索定位最接近的范围，然后再使用二分搜索\n      // 指数搜索避免了不必要的计算量，提高了计算速度\n      return this.exponentialSearch({\n        index: lastMeasuredIndex,\n        offset\n      })\n    }\n  }\n\n  binarySearch ({ low, high, offset }) {\n    let middle = 0\n    let currentOffset = 0\n\n    while (low <= high) {\n      middle = low + Math.floor((high - low) / 2)\n      currentOffset = this.getSizeAndPositionForIndex(middle).offset\n\n      if (currentOffset === offset) {\n        return middle\n      } else if (currentOffset < offset) {\n        low = middle + 1\n      } else if (currentOffset > offset) {\n        high = middle - 1\n      }\n    }\n\n    if (low > 0) {\n      return low - 1\n    }\n\n    return 0\n  }\n\n  exponentialSearch ({ index, offset }) {\n    let interval = 1\n    while (index < this.itemCount && this.getSizeAndPositionForIndex(index).offset < offset) {\n      index += interval\n      interval *= 2\n    }\n\n    return this.binarySearch({\n      low: Math.floor(index / 2),\n      high: Math.min(index, this.itemCount - 1),\n      offset\n    })\n  }\n}\n","export function throttle(fn, threshhold, scope) {\n  threshhold || (threshhold = 250)\n  let last, deferTimer\n  return function () {\n    let context = scope || this\n\n    let now = +new Date()\n    let args = arguments\n    if (last && now < last + threshhold) {\n      clearTimeout(deferTimer)\n      deferTimer = setTimeout(() => {\n        last = now\n        fn.apply(context, args)\n      }, threshhold)\n    } else {\n      last = now\n      fn.apply(context, args)\n    }\n  }\n}\n\nexport const isNumber = obj => {\n  return typeof obj === 'number'\n}\n\nexport function easeInOutQuad(t, b, c, d) {\n  t /= d / 2\n  if (t < 1) {\n    return c / 2 * t * t + b\n  }\n  t--\n  return -c / 2 * (t * (t - 2) - 1) + b\n}\n\nexport function scrollTo(element, to, duration, direction = 'scrollTop') {\n  const start = element[direction]\n  const change = to - start\n  const increment = 20\n\n  let currentTime = 0\n\n  var animateScroll = function () {\n    currentTime += increment\n    const val = easeInOutQuad(currentTime, start, change, duration)\n    element[direction] = val\n    if (currentTime < duration) {\n      setTimeout(animateScroll, increment)\n    }\n  }\n  animateScroll()\n}\n","import React from 'react'\nimport classNames from 'classnames'\nimport {\n  VWIDGET_ID,\n  STYLE_ITEM,\n  sizeProp,\n  positionProp\n} from './constants'\n\nclass Header extends React.PureComponent {\n  static isVirtual = child => child.type._VID === VWIDGET_ID.HEADER\n  static getAttachStyle = ({\n    index,\n    scrollDirection,\n    props,\n    sizeAndPositionManager\n  }) => {\n    const style = { ...STYLE_ITEM }\n    const sizePropName = sizeProp[scrollDirection]\n    const positionPropName = positionProp[scrollDirection]\n    const size = props[sizePropName]\n    const { offset } = sizeAndPositionManager.getSizeAndPositionForIndex(index)\n\n    style.width = '100%'\n    style.height = '100%'\n    style[sizePropName] = size + 'px'\n    style[positionPropName] = (offset - size) + 'px'\n\n    return style\n  }\n\n  constructor() {\n    super(...arguments)\n    this.wrapperRef = React.createRef(null)\n  }\n\n  render() {\n    const {\n      children, style, ...props\n    } = this.props\n\n    console.log('Header', props)\n\n    return (\n      <div\n        ref={ this.wrapperRef }\n        style={ style }\n        className={ classNames('x-virtual-list--header', props.className) }>\n        { children }\n      </div>\n    )\n  }\n}\n\nHeader._VID = VWIDGET_ID.HEADER\n\nexport default Header\n","import React from 'react'\nimport classNames from 'classnames'\nimport {\n  VWIDGET_ID,\n  STYLE_ITEM,\n  sizeProp,\n  positionProp\n} from './constants'\n\nclass Footer extends React.PureComponent {\n  static isVirtual = child => child.type._VID === VWIDGET_ID.FOOTER\n  static getAttachStyle = ({\n    index,\n    scrollDirection,\n    props,\n    sizeAndPositionManager\n  }) => {\n    const style = { ...STYLE_ITEM }\n    const sizePropName = sizeProp[scrollDirection]\n    const positionPropName = positionProp[scrollDirection]\n    const footerSize = props[sizePropName]\n    const { offset, size } = sizeAndPositionManager.getSizeAndPositionForIndex(index)\n\n    style.width = '100%'\n    style.height = '100%'\n    style[sizePropName] = footerSize + 'px'\n    style[positionPropName] = (offset + size) + 'px'\n\n    return style\n  }\n\n  constructor() {\n    super(...arguments)\n    this.wrapperRef = React.createRef(null)\n  }\n\n  render() {\n    const {\n      children, style, ...props\n    } = this.props\n\n    return (\n      <div\n        ref={ this.wrapperRef }\n        style={ style }\n        className={ classNames('x-virtual-list--footer', props.className) }>\n        { children }\n      </div>\n    )\n  }\n}\n\nFooter._VID = VWIDGET_ID.FOOTER\n\nexport default Footer\n","function omit(obj, fields) {\n  // eslint-disable-next-line prefer-object-spread\n  var shallowCopy = Object.assign({}, obj);\n\n  for (var i = 0; i < fields.length; i += 1) {\n    var key = fields[i];\n    delete shallowCopy[key];\n  }\n\n  return shallowCopy;\n}\n\nexport default omit;","import React from 'react'\nimport classNames from 'classnames'\nimport Header from './Header'\nimport Footer from './Footer'\nimport omit from 'omit.js'\nimport {\n  VWIDGET_ID,\n  sizeProp\n} from './constants'\n\nclass Section extends React.PureComponent {\n  static isVirtual = child => child.type._VID === VWIDGET_ID.SECTION\n  static walkSectionChildren = (children, itemCount) => {\n    const finalChildren = []\n    const childrenSize = React.Children.count(children)\n    const rawChildren = React.Children.toArray(children)\n\n    let jumpStep = 0\n\n    for (let i = 0, cursor = 0; i < childrenSize; i += jumpStep) {\n      jumpStep = 1\n\n      const currentChild = rawChildren[i]\n      const nextChild = rawChildren[i + 1]\n      const nnextChild = rawChildren[i + 2]\n\n      if (Section.isVirtual(currentChild)) {\n        const sectionWrapper = currentChild\n        const sectionItemCount = sectionWrapper.props.itemCount\n        const section = {\n          itemCount: sectionItemCount,\n          start: cursor,\n          end: cursor + sectionItemCount\n        }\n\n        React.Children.forEach(sectionWrapper.props.children, child => {\n          if (Header.isVirtual(child)) {\n            section.Header = child\n          } else if (Footer.isVirtual(child)) {\n            section.Footer = child\n          } else {\n            section.Cell = child\n          }\n        })\n        finalChildren.push(section)\n        cursor += sectionItemCount\n      } else {\n        const section = {\n          itemCount: itemCount,\n          start: cursor,\n          end: itemCount,\n          Cell: currentChild\n        }\n\n        if (Header.isVirtual(currentChild)) {\n          section.Header = currentChild\n          if (nextChild) {\n            section.Cell = nextChild\n            jumpStep = 2\n          }\n          if (nnextChild && Footer.isVirtual(nnextChild)) {\n            section.Footer = nnextChild\n            jumpStep = 3\n          }\n        }\n        finalChildren.push(section)\n        cursor += itemCount\n      }\n    }\n\n    return finalChildren\n  }\n  static setSectionSlotToManager = ({ sections, scrollDirection, sizeAndPositionManager }) => {\n    const sizePropName = sizeProp[scrollDirection]\n\n    sections.forEach((sec, index) => {\n      sizeAndPositionManager.slotManager.insertSlot(index, {\n        ...omit(sec, ['Header', 'Cell', 'Footer']),\n        header: sec.Header ? sec.Header.props[sizePropName] : 0,\n        footer: sec.Footer ? sec.Footer.props[sizePropName] : 0\n      })\n    })\n  }\n  static findSectionByRangeIndex = (sections, index) => {\n    let targetIndex = -1\n\n    const section = sections.find((sec, i) => {\n      if (sec.start <= index && sec.end > index) {\n        targetIndex = i\n        return sec\n      }\n      return null\n    })\n\n    return [section, targetIndex]\n  }\n  static getSectionItemIndex = ({ sections, sectionIndex, index }) => {\n    if (sectionIndex === 0) {\n      return index\n    }\n    return index - sections.slice(0, sectionIndex).reduce((count, sec) => {\n      return count + sec.itemCount\n    }, 0)\n  }\n  static getTotalSectionItemCount = sections => {\n    return sections.reduce((count, sec) => {\n      return count + sec.itemCount\n    }, 0)\n  }\n\n  constructor() {\n    super(...arguments)\n    this.wrapperRef = React.createRef(null)\n  }\n\n  render() {\n    const {\n      children, ...props\n    } = this.props\n\n    return (\n      <div\n        ref={ this.wrapperRef }\n        className={ classNames('x-virtual-list--section', props.className) }>\n        { children }\n      </div>\n    )\n  }\n}\n\nSection._VID = VWIDGET_ID.SECTION\n\nexport default Section\n","import React from 'react'\nimport SizeAndPositionManager from './SizeAndPositionManager'\nimport {\n  ALIGNMENT,\n  DIRECTION,\n  SCROLL_CHANGE_REASON,\n  marginProp,\n  oppositeMarginProp,\n  positionProp,\n  scrollProp,\n  sizeProp,\n  STYLE_WRAPPER,\n  STYLE_INNER,\n  STYLE_ITEM,\n  STYLE_STICKY_ITEM\n} from './constants'\nimport classNames from 'classnames'\nimport { isNumber, throttle, scrollTo } from './util'\nimport Section from './Section'\nimport Header from './Header'\nimport Footer from './Footer'\n\nclass VirtualList extends React.PureComponent {\n  static defaultProps = {\n    itemCount: 0,\n    initialRows: 5,\n    upperThreshold: 50,\n    lowerThreshold: 50,\n    scrollEventThrottle: 10,\n    initialScrollIndex: 0,\n    onScroll: () => {},\n    onStartScroll: () => {},\n    onEndScroll: () => {},\n    onScrollToUpper: () => {},\n    onScrollToLower: () => {}\n  }\n\n  constructor () {\n    super(...arguments)\n    const {\n      scrollX,\n      scrollY,\n      initialScrollIndex,\n      scrollTo,\n      onScroll,\n      scrollEventThrottle,\n      itemCount\n    } = this.props\n\n    if (scrollY) {\n      this.scrollDirection = DIRECTION.VERTICAL\n    } else if (scrollX) {\n      this.scrollDirection = DIRECTION.HORIZONTAL\n    } else {\n      this.scrollDirection = DIRECTION.VERTICAL\n    }\n    const sections = Section.walkSectionChildren(\n      React.Children.toArray(this.props.children), itemCount\n    )\n    const totalItemCount = Section.getTotalSectionItemCount(sections)\n\n    this.itemSizeGetter = (itemSize = this.props.itemSize) => {\n      return index => this._getSize(index, itemSize)\n    }\n    this.sizeAndPositionManager = new SizeAndPositionManager({\n      itemCount: totalItemCount,\n      itemSizeGetter: this.itemSizeGetter(this.props.itemSize),\n      estimatedItemSize: this._getEstimatedItemSize()\n    })\n\n    Section.setSectionSlotToManager({\n      sections,\n      sizeAndPositionManager: this.sizeAndPositionManager,\n      scrollDirection: this.scrollDirection\n    })\n    this.sections = sections\n    this.state = {\n      offset: isNumber(scrollTo) ? scrollTo : this.getOffsetForIndex(initialScrollIndex),\n      scrollChangeReason: SCROLL_CHANGE_REASON.REQUESTED\n    }\n\n    this.styleCache = {}\n    this.rootNodeRef = React.createRef(null)\n    this.scrollWrapperNodeRef = React.createRef(null)\n    this.throttleScroll = throttle(onScroll, scrollEventThrottle)\n  }\n\n  componentDidMount () {\n    const { scrollTo } = this.props\n\n    if (isNumber(scrollTo)) {\n      this._scrollTo(scrollTo)\n    } else {\n      this._scrollTo(this.state.offset)\n    }\n\n    this.rootNodeRef.current.addEventListener('scroll', this._handleScroll, {\n      passive: true\n    })\n  }\n\n  componentWillUnmount () {\n    this.rootNodeRef.current.removeEventListener('scroll', this._handleScroll)\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const {\n      itemCount,\n      itemSize,\n      estimatedItemSize,\n      scrollToAlignment,\n      scrollTo,\n      onScroll,\n      scrollEventThrottle\n    } = this.props\n\n    const scrollPropsHaveChanged =\n      nextProps.scrollTo !== scrollTo ||\n      nextProps.scrollToAlignment !== scrollToAlignment\n    const itemPropsHaveChanged =\n      nextProps.itemCount !== itemCount ||\n      nextProps.itemSize !== itemSize ||\n      nextProps.estimatedItemSize !== estimatedItemSize\n\n    // 动态生成节流函数\n    if (nextProps.scrollEventThrottle !== scrollEventThrottle) {\n      this.throttleScroll = throttle(onScroll, nextProps.scrollEventThrottle)\n    }\n\n    if (nextProps.itemSize !== itemSize) {\n      this.sizeAndPositionManager.updateConfig({\n        itemSizeGetter: this.itemSizeGetter(nextProps.itemSize)\n      })\n    }\n\n    if (\n      nextProps.itemCount !== itemCount ||\n      nextProps.estimatedItemSize !== estimatedItemSize\n    ) {\n      this.sizeAndPositionManager.updateConfig({\n        itemCount: nextProps.itemCount,\n        estimatedItemSize: this._getEstimatedItemSize(nextProps)\n      })\n    }\n\n    if (itemPropsHaveChanged) {\n      this.recomputeSizes()\n    }\n\n    if (\n      typeof nextProps.scrollTo === 'number' &&\n      (scrollPropsHaveChanged || itemPropsHaveChanged)\n    ) {\n      this.setState({\n        offset: nextProps.scrollTo,\n        scrollChangeReason: SCROLL_CHANGE_REASON.REQUESTED\n      })\n    }\n  }\n\n  componentDidUpdate (_, prevState) {\n    const { offset, scrollChangeReason } = this.state\n    if (\n      prevState.offset !== offset &&\n      scrollChangeReason === SCROLL_CHANGE_REASON.REQUESTED\n    ) {\n      this._scrollTo(offset)\n    }\n  }\n\n  scrollToPosition ({ position, smooth = false, alignTo }) {\n    const prevTotalSize = this.sizeAndPositionManager.getTotalSize()\n    const offset = this.getOffsetForIndex(position, {\n      none: ALIGNMENT.CENTER,\n      top: ALIGNMENT.START,\n      bottom: ALIGNMENT.END\n    }[alignTo])\n    const positionPropName = positionProp[this.scrollDirection]\n    const element = this.rootNodeRef.current\n\n    if (!element) {\n      return\n    }\n    // 如果浏览器默认支持 ScrollToOptions，则使用原生滚动，从而达到更流畅的效果\n    // https://developer.mozilla.org/zh-CN/docs/Web/API/ScrollToOptions/behavior\n    if (typeof element.scroll === 'function') {\n      const DOMScroll = () => {\n        this.rootNodeRef.current.scroll({\n          [positionPropName]: offset,\n          behavior: smooth ? 'smooth' : 'auto'\n        })\n      }\n      if (offset > prevTotalSize) {\n        this._flushTotalSize(offset, DOMScroll)\n      } else {\n        DOMScroll()\n      }\n    } else {\n      if (smooth) {\n        const ANIMATE_DURATION = 300\n        scrollTo(element, offset, ANIMATE_DURATION, scrollProp[this.scrollDirection])\n      } else {\n        this._scrollTo(offset)\n      }\n    }\n  }\n\n  _scrollTo (offset) {\n    this.rootNodeRef.current[scrollProp[this.scrollDirection]] = offset\n  }\n\n  _flushTotalSize (offset, callback) {\n    const prevOffset = this.state.offset\n    this._scrollTo(offset)\n    setTimeout(() => {\n      this._scrollTo(prevOffset)\n      callback()\n    }, 0)\n  }\n\n  _getTotalItemCount () {\n    const sections = this.sections || Section.walkSectionChildren(\n      React.Children.toArray(this.props.children),\n      this.props.itemCount\n    )\n    return Section.getTotalSectionItemCount(sections)\n  }\n\n  getOffsetForIndex (index, scrollToAlignment = ALIGNMENT.AUTO) {\n    let itemCount = this.sizeAndPositionManager.getTotalItemCount()\n\n    if (itemCount === 0) {\n      itemCount = this._getTotalItemCount()\n    }\n    if (index < 0) {\n      index = 0\n    }\n    if (index >= itemCount) {\n      index = itemCount - 1\n    }\n\n    return this.sizeAndPositionManager.getUpdatedOffsetForIndex({\n      align: scrollToAlignment,\n      containerSize: this.props[sizeProp[this.scrollDirection]],\n      currentOffset: (this.state && this.state.offset) || 0,\n      targetIndex: index\n    })\n  }\n\n  recomputeSizes (startIndex = 0) {\n    this.styleCache = {}\n    this.sizeAndPositionManager.resetItem(startIndex)\n  }\n\n  _scrollWatchTimer = null\n  _handleScroll = (event) => {\n    clearTimeout(this._scrollWatchTimer)\n\n    const offset = this._getNodeOffset()\n    const totalSize = this.sizeAndPositionManager.getTotalSize()\n    const containerSize = this.props[sizeProp[this.scrollDirection]]\n\n    if (\n      offset < 0 ||\n      this.state.offset === offset ||\n      event.target !== this.rootNodeRef.current\n    ) {\n      return\n    }\n\n    this.setState({\n      offset,\n      scrollChangeReason: SCROLL_CHANGE_REASON.OBSERVED\n    })\n\n    if (!this._scrollWatchTimer) {\n      this.props.onStartScroll(event, offset)\n    }\n\n    // 使用延时 300ms 检测用户行为，从而准确触发 onEndScroll\n    const DELAY = 300\n    this._scrollWatchTimer = setTimeout(() => {\n      this.props.onEndScroll(event, offset)\n      this._scrollWatchTimer = null\n    }, this.props.scrollEventThrottle + DELAY)\n\n    if ((totalSize - offset - containerSize) <= this.props.lowerThreshold) {\n      this.props.onScrollToLower(event, offset)\n    }\n\n    if (offset <= this.props.upperThreshold) {\n      this.props.onScrollToUpper(event, offset)\n    }\n\n    this.throttleScroll(event, offset)\n  }\n\n  _getNodeOffset () {\n    return this.rootNodeRef.current[scrollProp[this.scrollDirection]]\n  }\n\n  _getEstimatedItemSize (props = this.props) {\n    const defaultEstimatedItemSize = 50\n\n    return (\n      props.estimatedItemSize || (typeof props.itemSize === 'number' && props.itemSize) || defaultEstimatedItemSize\n    )\n  }\n\n  _getSize (index, itemSize) {\n    if (typeof itemSize === 'function') {\n      return itemSize(index)\n    }\n    const defaultItemSize = 50\n\n    return Array.isArray(itemSize) ? itemSize[index] : (itemSize || defaultItemSize)\n  }\n\n  _getStyle ({index, sticky, isCached}) {\n    const style = this.styleCache[index]\n    const sizePropName = sizeProp[this.scrollDirection]\n    const positionPropName = positionProp[this.scrollDirection]\n\n    // 使用缓存，减少样式计算性能损耗\n    if (style && isCached) {\n      return style\n    }\n\n    const { size, offset } = this.sizeAndPositionManager.getSizeAndPositionForIndex(index)\n\n    if (sticky) {\n      this.styleCache[index] = {\n        ...STYLE_STICKY_ITEM,\n        [sizePropName]: size,\n        [marginProp[this.scrollDirection]]: offset,\n        [oppositeMarginProp[this.scrollDirection]]: -(offset + size),\n        zIndex: 1\n      }\n    } else {\n      this.styleCache[index] = {\n        ...STYLE_ITEM,\n        [sizePropName]: size,\n        [positionPropName]: offset\n      }\n    }\n\n    return this.styleCache[index]\n  }\n\n  _getItems = () => {\n    const {\n      overscanCount,\n      initialRows,\n      itemCount,\n      children,\n      ...props\n    } = this.props\n    const { offset } = this.state\n\n    const sections = this.sections\n    const totalItemCount = Section.getTotalSectionItemCount(sections)\n\n    if (itemCount !== totalItemCount) {\n      this.sizeAndPositionManager.updateConfig({\n        itemCount: totalItemCount\n      })\n    }\n\n    const containerSize = props[sizeProp[this.scrollDirection]]\n    const { start, stop } = this.sizeAndPositionManager.getVisibleRange({\n      containerSize,\n      offset,\n      overscanCount: overscanCount || initialRows\n    })\n    const items = []\n\n    if (typeof start !== 'undefined' && typeof stop !== 'undefined') {\n      for (let index = start; index <= stop; index++) {\n        const [section, sectionIndex] = Section.findSectionByRangeIndex(sections, index)\n        const {\n          Header: VirtualHeader,\n          Cell: VirtualCell,\n          Footer: VirtualFooter,\n          start: sectionStart,\n          end: sectionEnd\n        } = section\n\n        if (index === sectionStart && VirtualHeader) {\n          items.push(\n            React.createElement(VirtualHeader.type, {\n              ...VirtualHeader.props,\n              key: `virtual-section-header-${sectionIndex}`,\n              style: Header.getAttachStyle({\n                props: VirtualHeader.props,\n                index,\n                scrollDirection: this.scrollDirection,\n                sizeAndPositionManager: this.sizeAndPositionManager\n              })\n            })\n          )\n        }\n        if (VirtualCell) {\n          const itemIndex = Section.getSectionItemIndex({sections, sectionIndex, index})\n          const virtualIndex = index\n          const itemStyle = this._getStyle({\n            index,\n            sticky: false,\n            isCached: true\n          })\n          const CellComponent = React.createElement(VirtualCell.type, {\n            ...VirtualCell.props,\n            key: virtualIndex,\n            virtualIndex,\n            index: itemIndex,\n            style: itemStyle\n          })\n          const onNodeAppearHandler = CellComponent.props.onNodeAppear\n          if (typeof onNodeAppearHandler === 'function') {\n            const itemPos = itemStyle[positionProp[this.scrollDirection]]\n            const itemSize = itemStyle[sizeProp[this.scrollDirection]]\n            if (itemPos + itemSize > offset && itemPos < offset + containerSize) {\n              onNodeAppearHandler({\n                itemIndex, virtualIndex, itemStyle\n              })\n            }\n          }\n          items.push(CellComponent)\n        }\n        if (index === sectionEnd - 1 && VirtualFooter) {\n          items.push(\n            React.createElement(VirtualFooter.type, {\n              ...VirtualFooter.props,\n              key: `virtual-section-footer-${sectionIndex}`,\n              style: Footer.getAttachStyle({\n                props: VirtualFooter.props,\n                index,\n                scrollDirection: this.scrollDirection,\n                sizeAndPositionManager: this.sizeAndPositionManager\n              })\n            })\n          )\n        }\n      }\n    }\n\n    return items\n  }\n\n  render () {\n    const { style, width, height } = this.props\n    const items = this._getItems()\n    const totalSize = this.sizeAndPositionManager.getTotalSize()\n    const wrapperStyle = { ...STYLE_WRAPPER, ...style, width, height }\n    const innerStyle = {\n      ...STYLE_INNER,\n      [sizeProp[this.scrollDirection]]: totalSize\n    }\n    if (this.scrollDirection === DIRECTION.HORIZONTAL) {\n      innerStyle.display = 'flex'\n    }\n\n    return (\n      <div\n        ref={this.rootNodeRef}\n        className={classNames('taro-virtual-list', this.props.className)}\n        style={wrapperStyle}>\n        <div ref={this.scrollWrapperNodeRef} style={innerStyle}>{items}</div>\n      </div>\n    )\n  }\n}\n\nVirtualList.Section = Section\nVirtualList.Header = Header\nVirtualList.Footer = Footer\n\nexport default VirtualList\n","import VirtualList from './VirtualList'\nimport Section from './Section'\nimport Header from './Header'\nimport Footer from './Footer'\n\nexport default VirtualList\nexport {\n  VirtualList, Section, Header, Footer\n}\n"],"sourceRoot":""}